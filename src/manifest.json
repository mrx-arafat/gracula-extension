{
  "manifest_version": 3,
  "name": "Gracula - AI Reply Assistant",
  "version": "2.1.1",
  "description": "Context-aware AI-powered replies with smart user detection, topic tracking, and quality validation.",
  "permissions": [
    "activeTab",
    "storage",
    "scripting"
  ],
  "host_permissions": [
    "https://web.whatsapp.com/*",
    "https://www.instagram.com/*",
    "https://www.messenger.com/*",
    "https://www.facebook.com/*",
    "https://tinder.com/*",
    "https://bumble.com/*",
    "https://www.linkedin.com/*",
    "https://twitter.com/*",
    "https://x.com/*",
    "https://discord.com/*",
    "https://app.slack.com/*",
    "https://*.slack.com/*",
    "https://mail.google.com/*",
    "https://web.telegram.org/*",
    "*://*/*"
  ],
  "content_scripts": [
    {
      "matches": [
        "https://web.whatsapp.com/*",
        "https://www.instagram.com/*",
        "https://www.messenger.com/*",
        "https://www.facebook.com/*",
        "https://tinder.com/*",
        "https://bumble.com/*",
        "https://www.linkedin.com/*",
        "https://twitter.com/*",
        "https://x.com/*",
        "https://discord.com/*",
        "https://app.slack.com/*",
        "https://*.slack.com/*",
        "https://mail.google.com/*",
        "https://web.telegram.org/*"
      ],
      "js": [
        "shared/config/platforms.js",
        "shared/config/tones.js",
        "shared/config/api.js",
        "shared/config/voice-providers.js",
        "shared/config/index.js",
        "shared/knowledge/index.js",
        "shared/knowledge/domains/technology.js",
        "shared/knowledge/languages/bangla.js",
        "shared/knowledge/patterns/conversation-patterns.js",
        "shared/knowledge/patterns/semantic-groups.js",
        "shared/knowledge/offline-suggestions.js",
        "shared/lib/logger.js",
        "shared/lib/dom-utils.js",
        "shared/lib/index.js",
        "shared/utils/ResponseCache.js",
        "entities/platform/model/Platform.js",
        "entities/platform/lib/detector.js",
        "entities/platform/index.js",
        "entities/message/model/Message.js",
        "entities/message/index.js",
        "entities/tone/model/Tone.js",
        "entities/tone/index.js",
        "features/context/model/UserProfileDetector.js",
        "features/context/model/SpeakerDetector.js",
        "features/context/model/TopicAnalyzer.js",
        "features/context/model/ConversationAnalyzer.js",
        "features/context/model/ConversationSummarizer.js",
        "features/context/model/SmartMessageSelector.js",
        "features/context/model/ContextExtractor.js",
        "features/context/index.js",
        "features/preferences/model/PreferenceLearner.js",
        "features/voice-transcription/model/AudioRecorder.js",
        "features/voice-transcription/model/WebSpeechRecognizer.js",
        "features/voice-transcription/model/VoiceActivityDetector.js",
        "features/voice-transcription/model/CloudTranscriber.js",
        "features/voice-transcription/model/TranscriptionManager.js",
        "features/voice-transcription/index.js",
        "features/global-voice-input/GlobalVoiceInputManager.js",
        "features/global-voice-input/index.js",
        "features/grammar/model/GrammarChecker.js",
        "widgets/grammar-checker/ui/GrammarCheckerWidget.js",
        "widgets/voice-input/ui/VoiceButton.js",
        "widgets/voice-input/ui/RecordingIndicator.js",
        "widgets/voice-input/model/VoiceInputManager.js",
        "widgets/voice-input/index.js",
        "widgets/floating-button/ui/FloatingButton.js",
        "widgets/floating-button/index.js",
        "widgets/modal/ui/Modal.js",
        "widgets/modal/index.js",
        "widgets/tone-selector/ui/ToneSelector.js",
        "widgets/tone-selector/index.js",
        "widgets/context-viewer/ui/ContextViewer.js",
        "widgets/context-viewer/index.js",
        "widgets/reply-list/ui/ReplyList.js",
        "widgets/reply-list/index.js",
        "widgets/autocomplete/ui/AutocompleteDropdown.js",
        "widgets/autocomplete/model/AutocompleteManager.js",
        "widgets/autocomplete/index.js",
        "widgets/grammar-fix/ui/GrammarButton.js",
        "widgets/grammar-fix/model/GrammarFixManager.js",
        "widgets/grammar-fix/index.js",
        "app/GraculaApp.js",
        "app/index.js"
      ],
      "css": ["styles.css"],
      "run_at": "document_idle",
      "all_frames": false
    },
    {
      "matches": ["<all_urls>"],
      "exclude_matches": [
        "https://web.whatsapp.com/*",
        "https://www.instagram.com/*",
        "https://www.messenger.com/*",
        "https://www.facebook.com/*",
        "https://tinder.com/*",
        "https://bumble.com/*",
        "https://www.linkedin.com/*",
        "https://twitter.com/*",
        "https://x.com/*",
        "https://discord.com/*",
        "https://app.slack.com/*",
        "https://*.slack.com/*",
        "https://mail.google.com/*",
        "https://web.telegram.org/*"
      ],
      "js": [
        "shared/config/api.js",
        "shared/config/voice-providers.js",
        "features/voice-transcription/model/AudioRecorder.js",
        "features/voice-transcription/model/WebSpeechRecognizer.js",
        "features/voice-transcription/model/VoiceActivityDetector.js",
        "features/voice-transcription/model/CloudTranscriber.js",
        "features/voice-transcription/model/TranscriptionManager.js",
        "features/voice-transcription/index.js",
        "features/global-voice-input/GlobalVoiceInputManager.js",
        "features/global-voice-input/index.js",
        "features/global-grammar-fix/GlobalGrammarFixManager.js",
        "features/global-grammar-fix/index.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    }
  ],
  "background": {
    "service_worker": "background.js"
  },
  "action": {
    "default_popup": "popup.html",
    "default_icon": {
      "16": "icons/icon16.png",
      "48": "icons/icon48.png",
      "128": "icons/icon128.png"
    }
  },
  "icons": {
    "16": "icons/icon16.png",
    "48": "icons/icon48.png",
    "128": "icons/icon128.png"
  }
}

